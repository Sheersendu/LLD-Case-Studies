package Test.Pen;
import Pen.Factory.PenFactory;
import Pen.models.*;

import org.junit.Assert;
import org.junit.Test;
public class PenTest {

	@Test
	public void testBuilderCreation() {
		Pen pen = GelPen.builder()
				.brand("Parker")
				.name("Gel pen")
				.price(100.0)
				.refill(Refill.builder()
						.ink(new Ink("Black","Parker", InkType.GEL))
						.nib(new Nib(0.5, NibType.GOLD))
						.build())
				.build();
		Assert.assertNotNull("if ctor is called pen should not be null", pen);
		GelPen gelPen = (GelPen) pen;
		Assert.assertNotNull("If pen is Gel, then refill should not be null", gelPen.getRefill());
		Assert.assertEquals("If pen is created then ink colour should be black", gelPen.getRefill().getInk().getColor(), "Black");
	}

	@Test
	public void testFactoryCreation() {
		// issue is with lombok's builder otherwise the error will not be present
		Pen pen = PenFactory.createGelPen()
				.brand("Parker")
				.name("Gel pen")
				.price(100.0)
				.build();
		Assert.assertNotNull("if ctor is called pen should not be null", pen);
		GelPen gelPen = (GelPen) pen;
		Assert.assertNotNull("If pen is Gel, then refill should not be null", gelPen.getRefill());
		Assert.assertEquals("If pen is created then ink colour should be black", gelPen.getRefill().getInk().getColor(), "Black");
	}
}
